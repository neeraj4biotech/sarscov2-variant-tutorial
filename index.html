<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>SARS-CoV-2 Variant Calling Tutorial ‚Äî ICE-Cloud</title>

<!-- ==========================
     GLOBAL STYLESHEET
     Clean, simple, component-based
     ========================== -->
<style>
:root {
  --accent: #0b63a5;
  --muted: #6b7280;
  --bg: #ffffff;
  --mono: SFMono-Regular, Menlo, Monaco, Consolas, monospace;
  --header-height: 60px;
}
body {
  font-family: Inter, system-ui, -apple-system, Segoe UI, Roboto, Helvetica, Arial;
  margin: 0;
  padding: 0;
  background: var(--bg);
  color: #111;
  line-height: 1.6;
}
header {
  background: #f8fafc;
  padding: 15px 24px;
  border-bottom: 1px solid #e6eef6;
  display: flex;
  align-items: center;
  justify-content: space-between;
  height: var(--header-height);
}
header h1 {
  font-size: 18px;
  margin: 0;
  color: var(--accent);
}
.container {
  display: flex;
  min-height: calc(100vh - var(--header-height));
}
nav {
  width: 260px;
  background: #fbfdff;
  border-right: 1px solid #eef3f7;
  padding: 20px 16px;
  position: sticky;
  top: var(--header-height);
  height: calc(100vh - var(--header-height));
  overflow-y: auto;
}
nav h2 {
  font-size: 14px;
  margin-top: 0;
}
nav ul {
  list-style: none;
  padding-left: 0;
}
nav ul li {
  margin: 5px 0;
}
nav a {
  text-decoration: none;
  color: var(--accent);
  font-size: 14px;
}
nav a.active-link {
  text-decoration: underline;
  font-weight: bold;
}
main {
  flex: 1;
  padding: 28px 36px;
  max-width: 980px;
}
section {
  margin-bottom: 40px;
}
h2.section-title {
  margin-top: 0;
  font-size: 20px;
}
p.lead {
  color: var(--muted);
  font-size: 15px;
}
/* Code Blocks */
pre {
  background: #0b1220;
  color: #ecf2ff;
  padding: 14px;
  border-radius: 6px;
  overflow-x: auto;
  font-size: 13px;
  font-family: var(--mono);
}
.cmd-wrap {
  position: relative;
  margin-top: 8px;
  margin-bottom: 12px;
}
.copy-btn {
  position: absolute;
  top: 8px;
  right: 8px;
  background: var(--accent);
  color: white;
  border: none;
  padding: 6px 10px;
  border-radius: 4px;
  cursor: pointer;
  font-size: 12px;
}
.card {
  border: 1px solid #e7edf4;
  padding: 12px;
  border-radius: 6px;
  background: white;
  margin: 12px 0;
}
footer {
  border-top: 1px solid #eef3f7;
  margin-top: 40px;
  padding: 16px 0;
  color: var(--muted);
  font-size: 13px;
}
</style>
</head>

<body>
<header>
  <h1>SARS-CoV-2 Variant Calling Tutorial ‚Äî ICE-Cloud</h1>
  <button id="printBtn">Print</button>
</header>

<div class="container">

  <!-- ==========================
       LEFT SIDEBAR NAVIGATION
       ========================== -->
  <nav>
    <h2>Contents</h2>
    <ul>
      <li><a href="#intro">Introduction</a></li>
      <li><a href="#workflow">Workflow Diagram</a></li>
      <li><a href="#objective">Objective</a></li>
      <li><a href="#step1">Step 1 ‚Äî Data Preparation</a></li>
      <li><a href="#step2">Step 2 ‚Äî Quality Check</a></li>
      <li><a href="#step3">Step 3 ‚Äî Read Trimming</a></li>
      <li><a href="#step4">Step 4 ‚Äî Alignment</a></li>
      <li><a href="#step5">Step 5 ‚Äî BAM Processing</a></li>
      <li><a href="#step6">Step 6 ‚Äî Variant Calling</a></li>
      <li><a href="#step7">Step 7 ‚Äî Annotation</a></li>
      <li><a href="#references">Tool Documentation</a></li>
      <li><a href="#end">End</a></li>
    </ul>
  </nav>

  <!-- ==========================
       MAIN CONTENT
       ========================== -->
  <main>

    <!-- INTRODUCTION -->
    <section id="intro">
      <h2 class="section-title">Introduction</h2>
      <p class="lead">This tutorial demonstrates a complete SARS-CoV-2 reference-based variant calling pipeline on ICE-Cloud using FastQC, Trim Galore, BWA, SAMtools, BCFtools, and SnpEff.</p>
    </section>

    <!-- WORKFLOW DIAGRAM -->
    <section id="workflow">
      <h2 class="section-title">Workflow Diagram</h2>
      <p class="lead">A horizontal, icon-based overview of the variant calling pipeline.</p>

      <!-- CLEAN HORIZONTAL WORKFLOW SVG -->
      <div style="text-align:center; margin: 20px 0;">
        <!-- Icons and boxes diagram -->
        <svg width="900" height="160" xmlns="http://www.w3.org/2000/svg">
          <style>
            .box { fill:#e8f1fb; stroke:#0b63a5; stroke-width:2; rx:8; ry:8; }
            .t { font-size:14px; font-family:Arial; }
            .arrow { stroke:#0b63a5; stroke-width:2; marker-end:url(#arrow); }
          </style>
          <defs>
            <marker id="arrow" markerWidth="10" markerHeight="7" refX="10" refY="3.5" orient="auto">
              <polygon points="0 0, 10 3.5, 0 7" fill="#0b63a5" />
            </marker>
          </defs>

          <!-- Steps Row -->
          <g transform="translate(20,40)">
            <rect x="0" y="0" width="100" height="50" class="box" />
            <text x="50" y="22" text-anchor="middle" class="t">üì• Download</text>

            <line x1="100" y1="25" x2="130" y2="25" class="arrow" />

            <rect x="130" y="0" width="100" height="50" class="box" />
            <text x="180" y="22" text-anchor="middle" class="t">üîç FastQC</text>

            <line x1="230" y1="25" x2="260" y2="25" class="arrow" />

            <rect x="260" y="0" width="100" height="50" class="box" />
            <text x="310" y="22" text-anchor="middle" class="t">‚úÇÔ∏è Trim</text>

            <line x1="360" y1="25" x2="390" y2="25" class="arrow" />

            <rect x="390" y="0" width="100" height="50" class="box" />
            <text x="440" y="22" text-anchor="middle" class="t">üß¨ BWA</text>

            <line x1="490" y1="25" x2="520" y2="25" class="arrow" />

            <rect x="520" y="0" width="100" height="50" class="box" />
            <text x="570" y="22" text-anchor="middle" class="t">üßπ SAMtools</text>

            <line x1="620" y1="25" x2="650" y2="25" class="arrow" />

            <rect x="650" y="0" width="100" height="50" class="box" />
            <text x="700" y="22" text-anchor="middle" class="t">üß™ BCFtools</text>

            <line x1="750" y1="25" x2="780" y2="25" class="arrow" />

            <rect x="780" y="0" width="100" height="50" class="box" />
            <text x="830" y="22" text-anchor="middle" class="t">üß† SnpEff</text>
          </g>
        </svg>
      </div>
    </section>

    <!-- OBJECTIVE -->
    <section id="objective">
      <h2 class="section-title">Objective</h2>
      <p>Perform data QC, trimming, mapping, variant calling, and annotation for SARS-CoV-2 using common bioinformatics tools on ICE-Cloud.</p>
    </section>

    <!-- ==========================
         STEP 1
         ========================== -->
    <section id="step1">
      <h2 class="section-title">Step 1 ‚Äî Data Preparation</h2>

      <h3>Download SRA Data</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd1">Copy</button>
      <pre id="cmd1">prefetch SRR15571424</pre></div>

      <h3>Convert to FASTQ</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd2">Copy</button>
      <pre id="cmd2">fasterq-dump SRR15571424 -S -e 2</pre></div>

      <h3>Compress FASTQ</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd3">Copy</button>
      <pre id="cmd3">gzip SRR15571424_1.fastq
gzip SRR15571424_2.fastq</pre></div>
    </section>

    <!-- ==========================
         STEP 2
         ========================== -->
    <section id="step2">
      <h2 class="section-title">Step 2 ‚Äî Quality Check</h2>

      <h3>Run FastQC</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd4">Copy</button>
      <pre id="cmd4">fastqc *.fastq.gz --threads 4</pre></div>
    </section>

    <!-- ==========================
         STEP 3
         ========================== -->
    <section id="step3">
      <h2 class="section-title">Step 3 ‚Äî Read Trimming</h2>

      <h3>Trim Reads</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd5">Copy</button>
      <pre id="cmd5">trim_galore --paired *.fastq.gz</pre></div>
    </section>

    <!-- ==========================
         STEP 4
         ========================== -->
    <section id="step4">
      <h2 class="section-title">Step 4 ‚Äî Reference Alignment (BWA)</h2>

      <h3>Create Index</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd6">Copy</button>
      <pre id="cmd6">bwa index MN908947.3.fna</pre></div>

      <h3>Run bwa mem</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd7">Copy</button>
      <pre id="cmd7">bwa mem MN908947.3.fna reads_1.fq.gz reads_2.fq.gz > aln.sam</pre></div>
    </section>

    <!-- ==========================
         STEP 5
         ========================== -->
    <section id="step5">
      <h2 class="section-title">Step 5 ‚Äî BAM Processing (SAMtools)</h2>

      <h3>SAM ‚Üí BAM</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd8">Copy</button>
      <pre id="cmd8">samtools view -bS aln.sam > aln.bam</pre></div>

      <h3>Sorting
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd9">Copy</button>
      <pre id="cmd9">samtools sort aln.bam -o aln.sorted.bam</pre></div>

      <h3>Indexing</h3>
      <div class="cmd-wrap"><button class="copy-btn" data-target="cmd10">Copy</button>
      <pre id="cmd10">samtools index aln.sorted.bam</pre></div></h3>
      <div class="cmd-wrap"><button class="
<!-- PLACEHOLDER: Full premium HTML will be generated next turn -->

